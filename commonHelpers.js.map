{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.search-form');\nconst list = document.querySelector('.pictures-list');\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery-card a.gallary-card-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const searchImg = e.target.elements.input.value;\n\n  if (searchImg.trim('') === '') {\n    return;\n  }\n\n  loader.style.display = 'flex';\n\n  if (lightbox) {\n    lightbox.close();\n    list.innerHTML = '';\n  }\n\n  setTimeout(() => {\n    getImg(searchImg)\n      .then(data => {\n        render(data.hits);\n        lightbox.refresh();\n        if (data.hits.length === 0) {\n          iziToast.error({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n            backgroundColor: 'red',\n            messageColor: 'white',\n          });\n        }\n      })\n      .catch(error => {\n        console.error('Помилка отримання зображень:', error);\n      })\n      .finally(() => {\n        loader.style.display = 'none';\n      });\n  }, 500);\n\n  e.target.reset();\n});\n\nfunction getImg(searchImg) {\n  const API_KEY = '42390639-e472f6261e3eecbaf31797673';\n  const URL = 'https://pixabay.com/api/';\n  const PARAMS = new URLSearchParams({\n    key: API_KEY,\n    q: searchImg,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${URL}?${PARAMS}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfunction render(imgs) {\n  const markup = imgs\n    .map(img => {\n      return `<li class=\"gallery-card\">\n    <a class=\"gallary-card-link\" href=\"${img.largeImageURL}\">\n        <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" />\n    <ul class=\"image-info\">\n            <li class=\"image-item-info\">\n            <p>Likes</p>\n            <p>${img.likes}</p>\n        </li>\n        <li class=\"image-item-info\">\n            <p>Views</p>\n            <p>${img.views}</p>\n        </li>\n        <li class=\"image-item-info\">\n            <p>Comments</p>\n            <p>${img.comments}</p>\n        </li>\n        <li class=\"image-item-info\">\n            <p>Downloads</p>\n            <p>${img.downloads}</p>\n        </li>\n    </ul>\n    </a>\n</li>`;\n    })\n    .join('');\n\n  list.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["form","list","loader","lightbox","SimpleLightbox","e","searchImg","getImg","data","render","iziToast","error","API_KEY","URL","PARAMS","response","imgs","markup","img"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,oCAAqC,CACvE,aAAc,MACd,aAAc,GAChB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,GAAK,CACnCA,EAAE,eAAc,EAEhB,MAAMC,EAAYD,EAAE,OAAO,SAAS,MAAM,MAEtCC,EAAU,KAAK,EAAE,IAAM,KAI3BJ,EAAO,MAAM,QAAU,OAEnBC,IACFA,EAAS,MAAK,EACdF,EAAK,UAAY,IAGnB,WAAW,IAAM,CACfM,EAAOD,CAAS,EACb,KAAKE,GAAQ,CACZC,EAAOD,EAAK,IAAI,EAChBL,EAAS,QAAO,EACZK,EAAK,KAAK,SAAW,GACvBE,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,gBAAiB,MACjB,aAAc,OAC1B,CAAW,CAEX,CAAO,EACA,MAAMC,GAAS,CACd,QAAQ,MAAM,+BAAgCA,CAAK,CAC3D,CAAO,EACA,QAAQ,IAAM,CACbT,EAAO,MAAM,QAAU,MAC/B,CAAO,CACJ,EAAE,GAAG,EAENG,EAAE,OAAO,QACX,CAAC,EAED,SAASE,EAAOD,EAAW,CACzB,MAAMM,EAAU,qCACVC,EAAM,2BACNC,EAAS,IAAI,gBAAgB,CACjC,IAAKF,EACL,EAAGN,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGO,CAAG,IAAIC,CAAM,EAAE,EAAE,KAAKC,GAAY,CAChD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,SAASN,EAAOO,EAAM,CACpB,MAAMC,EAASD,EACZ,IAAIE,GACI;AAAA,yCAC4BA,EAAI,aAAa;AAAA,oBACtCA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA,iBAIrCA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,iBAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,iBAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,iBAIZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,MAKzB,EACA,KAAK,EAAE,EAEVjB,EAAK,mBAAmB,YAAagB,CAAM,CAC7C"}